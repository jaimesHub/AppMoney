<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>Charts</title>
    <link rel="apple-touch-icon" href="../static/images/ico/apple-icon-120.png">
    <link rel="shortcut icon" type="image/x-icon" href="../static/images/ico/favicon.ico">
    <!-- <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700" rel="stylesheet">
    <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css" rel="stylesheet"> -->
    <!-- BEGIN VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="../static/css/vendors.css">
    <!-- END VENDOR CSS-->
    <!-- BEGIN CHAMELEON  CSS-->
    <link rel="stylesheet" type="text/css" href="../static/css/app-lite.css">
    <!-- END CHAMELEON  CSS-->
    <!-- BEGIN Page Level CSS-->
    <link rel="stylesheet" type="text/css" href="../static/css/core/menu/menu-types/vertical-menu.css">
    <link rel="stylesheet" type="text/css" href="../static/css/core/colors/palette-gradient.css">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"> -->
    <!-- END Page Level CSS-->
    <!-- BEGIN Custom CSS-->
    <!-- END Custom CSS-->

    <link rel="stylesheet" href="../static/css/charts.css">
</head>

<body class="vertical-layout vertical-menu 2-columns menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-purple-blue" data-col="2-columns">

    <!-- fixed-top-->
    <nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light p-0">
        <div class="navbar-wrapper">
            <div class="navbar-container content">
                <div class="collapse navbar-collapse show" id="navbar-mobile">
                    <ul class="nav navbar-nav mr-auto float-left">
                        <li class="nav-item d-block d-md-none"><a class="nav-link nav-menu-main menu-toggle hidden-xs" href="#"><i class="ft-menu"></i></a></li>

                        <li class="nav-item dropdown navbar-search">
                            <!-- <a class="nav-link dropdown-toggle hide" data-toggle="dropdown" href="#"><i class="ficon ft-search"></i></a> -->
                            <ul class="dropdown-menu">
                                <li class="arrow_box">
                                    <form>
                                        <div class="input-group search-box">
                                            <div class="position-relative has-icon-right full-width">
                                                <input class="form-control" id="search" type="text" placeholder="Search here...">
                                                <div class="form-control-position navbar-search-close"><i class="ft-x">
                                                    </i></div>
                                            </div>
                                        </div>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <!-- <ul class="nav navbar-nav float-right">
                        <li class="dropdown dropdown-language nav-item"><a class="dropdown-toggle nav-link" id="dropdown-flag" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="flag-icon flag-icon-us"></i><span
                                    class="selected-language"></span></a>
                            <div class="dropdown-menu" aria-labelledby="dropdown-flag">
                                <div class="arrow_box"><a class="dropdown-item" href="#"><i
                                            class="flag-icon flag-icon-us"></i> English</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-cn"></i> Chinese</a><a class="dropdown-item" href="#"><i class="flag-icon flag-icon-ru"></i>
                                        Russian</a>
                                    <a class="dropdown-item" href="#"><i class="flag-icon flag-icon-fr"></i>
                                        French</a><a class="dropdown-item" href="#"><i
                                            class="flag-icon flag-icon-es"></i> Spanish</a></div>
                            </div>
                        </li>
                    </ul> -->
                    <ul class="nav navbar-nav float-right">
                        <!-- <li class="dropdown dropdown-notification nav-item"><a class="nav-link nav-link-label" href="#" data-toggle="dropdown"><i class="ficon ft-mail"> </i></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <div class="arrow_box_right"><a class="dropdown-item" href="#"><i class="ft-book"></i>
                                        Read Mail</a><a class="dropdown-item" href="#"><i class="ft-bookmark"></i> Read
                                        Later</a><a class="dropdown-item" href="#"><i class="ft-check-square"></i> Mark
                                        all Read </a></div>
                            </div>
                        </li> -->
                        <li class="dropdown dropdown-user nav-item">
                            <a class="dropdown-toggle nav-link dropdown-user-link" href="#" data-toggle="dropdown">
                                <span class="avatar avatar-online"><img
                                        src="https://scontent.fhan2-3.fna.fbcdn.net/v/t31.0-1/c47.0.160.160a/p160x160/10506738_10150004552801856_220367501106153455_o.jpg?_nc_cat=1&_nc_ohc=lrWZefCxGQwAQlUxfocdWbQwyEaPHFxRUt17Iiu_nmyebquzzh4mlE8zQ&_nc_ht=scontent.fhan2-3.fna&oh=98b06af12ec33db6c669cc2a6e4cdbae&oe=5E75F250"
                                        alt="avatar"><i></i></span></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <div class="arrow_box_right"><a class="dropdown-item" href="#"><span
                                            class="avatar avatar-online"><img
                                                src="https://scontent.fhan2-3.fna.fbcdn.net/v/t31.0-1/c47.0.160.160a/p160x160/10506738_10150004552801856_220367501106153455_o.jpg?_nc_cat=1&_nc_ohc=lrWZefCxGQwAQlUxfocdWbQwyEaPHFxRUt17Iiu_nmyebquzzh4mlE8zQ&_nc_ht=scontent.fhan2-3.fna&oh=98b06af12ec33db6c669cc2a6e4cdbae&oe=5E75F250"
                                                alt="avatar"><span class="user-name text-bold-700 ml-1">{{session['username']}}
                                            </span></span></a>
                                    <!-- <div class="dropdown-divider"></div><a class="dropdown-item" href="#"><i
                                            class="ft-user"></i> Edit Profile</a><a class="dropdown-item" href="#"><i
                                            class="ft-mail"></i> My Inbox</a><a class="dropdown-item" href="#"><i
                                            class="ft-check-square"></i> Task</a> -->
                                    <!-- <a class="dropdown-item" href="#"><i class="ft-message-square"></i> Chats</a> -->
                                    <div class="dropdown-divider"></div><a class="dropdown-item" href="/logout"><i
                                            class="ft-power"></i> Logout</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- ////////////////////////////////////////////////////////////////////////////-->


    <div class="main-menu menu-fixed menu-light menu-accordion menu-shadow " data-scroll-to-active="true" data-img="../static/images/backgrounds/02.jpg">
        <div class="navbar-header">
            <ul class="nav navbar-nav flex-row">
                <li class="nav-item mr-auto">
                    <a class="navbar-brand" href="/"><img class="brand-logo" alt="Chameleon admin logo" src="../static/images/logo/logo.png" />
                        <h3 class="brand-text">Chart</h3>
                    </a>
                </li>
                <li class="nav-item d-md-none"><a class="nav-link close-navbar"><i class="ft-x"></i></a></li>
            </ul>
        </div>
        <div class="main-menu-content">
            <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
                <li class=" nav-item"><a href="/"><i class="ft-home"></i><span class="menu-title"
                            data-i18n="">Home</span></a>
                </li>

                <li class="active"><a href="/charts/"><i class="ft-pie-chart"></i><span class="menu-title"
                            data-i18n="">Charts</span></a>
                </li>

                <li class=" nav-item"><a href="/logout"><i class="ft-power"></i><span class="menu-title" data-i18n="">Log
                            Out</span></a>
            </ul>
            <a id='transaction-button' class="btn btn-danger btn-glow btn-upgrade-pro mx-1" href="#">
                Add Transaction
            </a>
        </div>
    </div>

    <div class="navigation-background"></div>

    </div>

    <div class="app-content content">
        <div class="content-wrapper">
            <div class="content-wrapper-before"></div>
            <div class="content-header row">
                <div class="content-header-left col-md-4 col-12 mb-2">
                    <!-- <h3 class="content-header-title">Charts</h3> -->
                </div>
                <div class="content-header-right col-md-8 col-12">
                    <div class="breadcrumbs-top float-md-right">
                        <div class="breadcrumb-wrapper mr-1">
                            <ol class="breadcrumb">
                                <!-- <li class="breadcrumb-item"><a href="/">Home</a> -->
                                <!-- </li> -->
                                <!-- <li class="breadcrumb-item active">Charts
                                </li> -->
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- charts -->
            <section>
                <div class="content-body">
                    <!-- Bar charts section start -->
                    <section id="chartjs-bar-charts">
                        <!-- Column Chart -->
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Chi tiêu hàng tháng</h4>
                                        <!-- <a class="heading-elements-toggle"><i
                                                class="la la-ellipsis-v font-medium-3"></i></a> -->
                                        <div class="heading-elements">
                                            <ul class="list-inline mb-0">
                                                <!-- <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                                                <li><a data-action="reload"><i class="ft-rotate-cw"></i></a></li>
                                                <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                                                <li><a data-action="close"><i class="ft-x"></i></a></li> -->
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="card-content collapse show">
                                        <div class="card-body">
                                            <div class="height-400">
                                                <canvas id="column-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </section>
                    <!-- // Bar charts section end -->


                    <!-- Pie charts section start -->
                    <section id="chartjs-pie-charts">
                        <div class="row">
                            <!-- Simple Pie Chart -->
                            <div class="col-md-6 col-sm-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Các mục đã chi tiêu</h4>
                                        <a class="heading-elements-toggle"><i
                                                class="la la-ellipsis-v font-medium-3"></i></a>
                                        <div class="heading-elements">
                                            <ul class="list-inline mb-0">
                                                <!-- <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                                                <li><a data-action="reload"><i class="ft-rotate-cw"></i></a></li>
                                                <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                                                <li><a data-action="close"><i class="ft-x"></i></a></li> -->
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="card-content collapse show">
                                        <div class="card-body">
                                            <div class="height-400">
                                                <canvas id="simple-pie-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Simple Doughnut Chart -->
                            <div class="col-md-6 col-sm-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Incomes/Outcomes</h4>
                                        <a class="heading-elements-toggle"><i
                                                class="la la-ellipsis-v font-medium-3"></i></a>
                                        <div class="heading-elements">
                                            <ul class="list-inline mb-0">
                                                <!-- <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                                                <li><a data-action="reload"><i class="ft-rotate-cw"></i></a></li>
                                                <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                                                <li><a data-action="close"><i class="ft-x"></i></a></li> -->
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="card-content collapse show">
                                        <div class="card-body">
                                            <div class="height-400">
                                                <canvas id="simple-doughnut-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <!-- // Pie charts section end -->



                </div>
            </section>

            <!-- table -->
            <section>
                <form method="POST">
                    <div>
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Infomations</h4>
                                <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                                <div class="heading-elements">
                                    <ul class="list-inline mb-0">

                                    </ul>
                                </div>
                            </div>
                            <div class="card-content collapse show">
                                <div class="card-body">
                                    <div class="overflow-x-scroll">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Số tiền dành ra</th>
                                                    <th scope="col">Nhóm</th>
                                                    <th scope="col">Ghi chú</th>
                                                    <th scope="col">Thời gian</th>
                                                    <th scope="col">Loại tiền</th>
                                                    <th scope="col">Income/Outcome</th>
                                                    <th></th>
                                                    <th></th>
                                                </tr>

                                            </thead>
                                            <tbody>

                                                {% for item in data %} {% if item.id_user == id_user %}
                                                <tr>
                                                    <td>{{ item.expense }}</td>
                                                    <td>{{ item.category }}</td>
                                                    <td>{{ item.note }}</td>
                                                    <td>{{ item.date }}</td>
                                                    <td>{{ item.wallet }}</td>
                                                    <td>{{ item.type }}</td>
                                                    <td><button type="button" class="btn btn-danger"><a
                                                                    href="/delete/{{ item._id }}">Delete</a></button></td>
                                                    <!-- <td><button type="button" class="btn btn-info"><a
                                                                    href="/edit/{{ item._id }}">Edit</a></button></td> -->
                                                </tr>
                                                {% endif %} {% endfor %}
                                                <!-- <h1>{{id_user}}</h1> -->
                                            </tbody>


                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </section>

            <!-- <button type="button"><a href='form.html'>Add transaction</a></button> -->
        </div>

    </div>
    <!-- ////////////////////////////////////////////////////////////////////////////-->

    <div class="transaction-modal text-center" style="display: none;">


        <form method="POST" action="/add_transaction/" class="container form-control" style="background-color: white; margin-top: 20vh;">
            <h1>Add Transaction</h1>
            <div class="row text-left">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Amount</label>
                        <input type="text" class="form-control" id="edit_expense" name="expense" placeholder="100000">
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlSelect1">Category</label>
                        <select class="form-control" id="edit_category" name="category">
                          <option>Personal</option>
                          <option>Family</option>
                          <option>Health</option>
                          <option>Debt/Loan</option>
                          <option>Income</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Time</label>
                        <input type="date" class="form-control" id="edit_date" name="date" placeholder="22/11/2019">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Note</label>
                        <input type="text" class="form-control" id="edit_note" name="note" placeholder="abcdefgh">
                    </div>
                    <div class="form-group">
                        <label>Wallet</label>
                        <input type="text" class="form-control" id="edit_wallet" name="wallet" placeholder="Cash/Credit Card">
                    </div>
                    <div class="form-group">
                        <label>Income/Outcome</label>
                        <select class="form-control" id="in_outcome" name="inout">
                            <option>Income</option>
                            <option>Outcome</option>
                            
                        </select>
                    </div>
                </div>
            </div>
            <a id='transaction-cancel' class="btn btn-warning">Cancel</a>
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>


    </div>
    <script type="text/javascript">
        let income = "{{income}}";
        let outcome = "{{outcome}}";
        let totalIncomeOutCome = "{{totalIncomeOutCome}}";
        let categories = "{{categories}}";

        // console.log(income)
        // console.log(outcome)

        // console.log(JSON.parse(income));
        // console.log(JSON.parse(outcome));
    </script>

    <!-- BEGIN VENDOR JS-->
    <script src="../static/vendors/js/vendors.min.js" type="text/javascript"></script>
    <!-- BEGIN VENDOR JS-->
    <!-- BEGIN PAGE VENDOR JS-->
    <script src="../static/vendors/js/charts/chart.min.js" type="text/javascript"></script>
    <!-- END PAGE VENDOR JS-->
    <!-- BEGIN CHAMELEON  JS-->
    <script src="../static/js/core/app-menu-lite.js" type="text/javascript"></script>
    <script src="../static/js/core/app-lite.js" type="text/javascript"></script>
    <!-- END CHAMELEON  JS-->
    <!-- BEGIN PAGE LEVEL JS-->
    <script src="../static/js/scripts/charts/chartjs/bar/column.js" type="text/javascript"></script>
    <script src="../static/js/scripts/charts/chartjs/bar/bar.js" type="text/javascript"></script>
    <script src="../static/js/scripts/charts/chartjs/line/line.js" type="text/javascript"></script>
    <script src="../static/js/scripts/charts/chartjs/pie-doughnut/pie-simple.js" type="text/javascript"></script>
    <script src="../static/js/scripts/charts/chartjs/pie-doughnut/doughnut-simple.js" type="text/javascript"></script>
    <!-- END PAGE LEVEL JS-->
    <script>
        let transactionCancel = document.getElementById('transaction-cancel');
        let transactionButton = document.getElementById('transaction-button');
        let transactionModal = document.getElementsByClassName('transaction-modal')[0]
        transactionButton.addEventListener('click', function() {
            transactionModal.style.display = '';
        });

        transactionCancel.addEventListener('click', function() {
            transactionModal.style.display = 'none';
        });
    </script>

</body>

</html>